(this["webpackJsonppathfinding-visualizer"]=this["webpackJsonppathfinding-visualizer"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),i=n(9),r=n.n(i),o=(n(15),n(6)),u=n(2),h=n(3),l=n(5),c=n(4),f=function(){function t(){Object(u.a)(this,t),this.array=[]}return Object(h.a)(t,[{key:"enqueue",value:function(t){this.array.push(t)}},{key:"dequeue",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"peek",value:function(){return this.isEmpty()?void 0:this.array[0]}},{key:"length",value:function(){return this.array.length}},{key:"clear",value:function(){this.array=[]}}]),t}(),d=(n(16),n(0)),p=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).handleMouseDrag=function(t){return a.onDrag(t.movementX,t.movementY)},a.handleMouseDown=function(){a.mouseDown=!0,window.addEventListener("mouseup",a.handleMouseUp),window.addEventListener("mousemove",a.handleMouseDrag)},a.handleMouseUp=function(){a.mouseDown=!1,window.removeEventListener("mouseup",a.handleMouseUp),window.removeEventListener("mousemove",a.handleMouseDrag)},a.state={x:1e3,y:10},a.mouseDown=!1,a}return Object(h.a)(n,[{key:"onDrag",value:function(t,e){var n=this.state.x+t,a=this.state.y+e;this.setState({x:n,y:a})}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{className:"panel",style:{left:this.state.x,top:this.state.y},onMouseDown:function(e){return t.handleMouseDown(e)},children:[Object(d.jsx)("div",{className:"panel-header",children:this.props.header}),Object(d.jsx)("div",{className:"panel-content",children:this.props.children})]})}}]),n}(a.Component),v=n(10),b=(n(18),function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).props=t,a.handleMouseMove=function(t){return a.props.onMouseMove(t)},a.handleMouseDown=function(t){return a.props.onMouseDown(t)},a.handleMouseUp=function(t){return a.props.onMouseUp(t)},a}return Object(h.a)(n,[{key:"render",value:function(){var t,e=[],n=[],a=Object(o.a)(this.props.hexes);try{for(a.s();!(t=a.n()).done;){var s=Object(v.a)(t.value,2),i=(s[0],s[1]),r=this.props.size*(Math.sqrt(3)*i.q+Math.sqrt(3)/2*i.r)+this.props.viewOffset[0],u=this.props.size*(1.5*i.r)+this.props.viewOffset[1],h=Math.sqrt(3)*this.props.size,l=2*this.props.size;e.push([r,u]);var c=[[r,u+.5*l],[-.5*h+r,u+.25*l],[-.5*h+r,u+-.25*l],[r,u+-.5*l],[.5*h+r,u+-.25*l],[.5*h+r,u+.25*l]],f="hex";f+=0===i.state?" hex-air":" hex-wall",i.visited&&(f="hex hex-visited"),n.push(Object(d.jsx)("polygon",{style:{transformOrigin:"".concat(r,"px ").concat(u,"px")},points:c,class:f}))}}catch(p){a.e(p)}finally{a.f()}return Object(d.jsxs)("svg",{height:this.props.height,width:this.props.width,style:{overflow:"hidden",top:"0px",left:"0px",position:"absolute"},xmlns:"http://www.w3.org/2000/svg",onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,children:[Object(d.jsx)("polygon",{points:[0,0,this.props.width,0,this.props.width,this.props.height,0,this.props.height],fill:"rgba(0, 0, 0, 0)",stroke:"#000",strokeOpacity:"0.2"}),n]})}}]),n}(a.Component)),M=function(){function t(e,n,a){Object(u.a)(this,t),this.q=NaN,this.r=NaN,this.s=NaN,this.state=null,this.visited=!1,console.assert(e+n+a===0),this.q=e,this.r=n,this.s=a,this.state=0}return Object(h.a)(t,[{key:"equals",value:function(t){return this.q===t.q&&this.r===t.r&&this.s===t.s}}]),t}();function y(t,e,n){var a=(Math.sqrt(3)/3*t-1/3*e)/n,s=2/3*e/n;return function(t,e,n){var a=Math.round(t),s=Math.round(e),i=Math.round(n),r=Math.abs(a-t),o=Math.abs(s-e),u=Math.abs(i-n);return r>o&&r>u?a=-s-i:o>u?s=-a-i:i=-a-s,[a,s,i]}(a,s,-a-s)}n(19);var g=n(20),m=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={hexMap:new Map,offset:[0,0],mapWidth:0,mapHeight:0,hexSize:20,searchResults:new f,startNode:null,endNode:null,button1Text:null,button2Text:null,button3Text:null,button1Enabled:!1,button2Enabled:!1,button3Enabled:!1,button1Callback:null,button2Callback:null,button3Callback:null},a.stateMachine=new g({init:"none",transitions:[{name:"start",from:"none",to:"ready"},{name:"drawWall",from:"ready",to:"drawingWalls"},{name:"eraseWall",from:"ready",to:"erasingWalls"},{name:"finishDraw",from:["drawingWalls","erasingWalls"],to:"ready"},{name:"start",from:"ready",to:"visualizing"},{name:"pause",from:"visualizing",to:"paused"},{name:"cancel",from:["paused","finished"],to:"ready"},{name:"resume",from:"paused",to:"visualizing"},{name:"finish",from:"visualizing",to:"finished"},{name:"restart",from:["finished","paused","visualizing"],to:"visualizing"},{name:"clear",from:["ready","visualizing","paused","finished"],to:"ready"}],methods:{onAfterTransition:function(){return a.forceUpdate()},onReady:function(){return a.onReady()},onVisualizing:function(){return a.onVisualizing()},onPaused:function(){return a.onPaused()},onFinished:function(){return a.onFinished()},onStart:function(){return a.onStart()},onRestart:function(){return a.onRestart()},onClear:function(){return a.onClear()},onCancel:function(){return a.onCancel()}}}),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.stateMachine.start();var t=this.divElement.clientWidth,e=this.divElement.clientHeight,n=Math.ceil(t/(Math.sqrt(3)*this.state.hexSize))+1,a=Math.ceil(e/(1.5*this.state.hexSize))+1;console.log(a);for(var s=0;s<a;s++)for(var i=Math.floor(s/2),r=-i;r<n-i;r++)this.state.hexMap.set([r,s,-r-s].toString(),new M(r,s,-r-s));this.setState({mapWidth:t,mapHeight:e})}},{key:"onTranstition",value:function(){this.forceUpdate()}},{key:"onReady",value:function(){var t=this;this.setButtonStates("Start Search",(function(){return t.startSearch()}),!0,"Pause Search",(function(){return t.pauseSearch()}),!1,"Clear Walls",(function(){return t.clearWalls()}),!0)}},{key:"onVisualizing",value:function(){var t=this;this.setButtonStates("Restart Search",(function(){return t.restartSearch()}),!0,"Pause Search",(function(){return t.pauseSearch()}),!0,"Clear Walls",(function(){return t.clearWalls()}),!0),setTimeout((function(){return t.visualizeStep()}),100)}},{key:"visualizeStep",value:function(){var t=this;this.stateMachine.is("visualizing")&&0!==this.state.searchResults.length()&&(this.hexSetVisited(this.state.searchResults.dequeue()),0===this.state.searchResults.length()&&this.stateMachine.can("finish")&&this.stateMachine.finish(),setTimeout((function(){return t.visualizeStep()}),100))}},{key:"onPaused",value:function(){var t=this;this.setButtonStates("Cancel Search",(function(){return t.cancelSearch()}),!0,"Resume Search",(function(){return t.resumeSearch()}),!0,"Clear Walls",(function(){return t.clearWalls()}),!0)}},{key:"onFinished",value:function(){var t=this;this.setButtonStates("Restart Search",(function(){return t.restartSearch()}),!0,"Clear Path",(function(){return t.cancelSearch()}),!0,"Clear Walls",(function(){return t.clearWalls()}),!0)}},{key:"onStart",value:function(){console.log("pathfinding"),this.state.searchResults.clear();for(var t=0;t<10;t++)this.state.searchResults.enqueue([0,t,-t])}},{key:"onRestart",value:function(){console.log("restarting");var t,e=Object(o.a)(this.state.hexMap.values());try{for(e.s();!(t=e.n()).done;){t.value.visited=!1}}catch(a){e.e(a)}finally{e.f()}this.state.searchResults.clear();for(var n=0;n<10;n++)this.state.searchResults.enqueue([0,n,-n])}},{key:"onClear",value:function(){console.log("clearing");var t,e=Object(o.a)(this.state.hexMap.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.state=0,n.visited=!1}}catch(a){e.e(a)}finally{e.f()}}},{key:"onCancel",value:function(){console.log("canceled");var t,e=Object(o.a)(this.state.hexMap.values());try{for(e.s();!(t=e.n()).done;){t.value.visited=!1}}catch(n){e.e(n)}finally{e.f()}}},{key:"setButtonStates",value:function(t,e,n,a,s,i,r,o,u){this.setState({button1Text:t,button2Text:a,button3Text:r,button1Enabled:n,button2Enabled:i,button3Enabled:u,button1Callback:e,button2Callback:s,button3Callback:o})}},{key:"startSearch",value:function(){this.stateMachine.can("start")&&this.stateMachine.start()}},{key:"pauseSearch",value:function(){this.stateMachine.can("pause")&&this.stateMachine.pause()}},{key:"resumeSearch",value:function(){this.stateMachine.can("resume")&&this.stateMachine.resume()}},{key:"restartSearch",value:function(){this.stateMachine.can("restart")&&this.stateMachine.restart()}},{key:"cancelSearch",value:function(){this.stateMachine.can("cancel")&&this.stateMachine.cancel()}},{key:"clearWalls",value:function(){this.stateMachine.can("clear")&&this.stateMachine.clear()}},{key:"hexFieldMouseMove",value:function(t){var e=t.pageX-this.state.offset[0],n=t.pageY-this.state.offset[1];this.stateMachine.is("drawingWalls")?this.hexSet(y(e,n,this.state.hexSize),1):this.stateMachine.is("erasingWalls")&&this.hexSet(y(e,n,this.state.hexSize),0)}},{key:"hexFieldMouseDown",value:function(t){var e=t.pageX,n=t.pageY,a=this.state.hexMap.get(y(e,n,this.state.hexSize).toString());a&&(this.stateMachine.can("drawWall")&&0===a.state?(this.stateMachine.drawWall(),a.state=1,this.forceUpdate()):this.stateMachine.can("eraseWall")&&0!==a.state&&(this.stateMachine.eraseWall(),a.state=0,this.forceUpdate()))}},{key:"hexFieldMouseUp",value:function(){this.stateMachine.can("finishDraw")&&this.stateMachine.finishDraw()}},{key:"hexSet",value:function(t,e){var n=this.state.hexMap.get(t.toString());n&&(n.state=e),this.forceUpdate()}},{key:"hexSetVisited",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.state.hexMap.get(t.toString());n&&(n.visited=e),this.forceUpdate()}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{class:"App",style:{top:"0px",bottom:"0px",width:"100%",position:"absolute"},ref:function(e){return t.divElement=e},children:[Object(d.jsx)("div",{class:"header"}),Object(d.jsx)(b,{width:this.state.mapWidth,height:this.state.mapHeight,size:this.state.hexSize,hexes:this.state.hexMap,viewOffset:this.state.offset,onMouseDown:function(e){return t.hexFieldMouseDown(e)},onMouseMove:function(e){return t.hexFieldMouseMove(e)},onMouseUp:function(e){return t.hexFieldMouseUp(e)}}),Object(d.jsxs)(p,{header:this.stateMachine.state,children:[Object(d.jsx)("button",{class:"panel-button",onClick:function(){return t.state.button1Callback()},disabled:!this.state.button1Enabled,children:this.state.button1Text}),Object(d.jsx)("button",{class:"panel-button",onClick:function(){return t.state.button2Callback()},disabled:!this.state.button2Enabled,children:this.state.button2Text}),Object(d.jsx)("button",{class:"panel-button",onClick:function(){return t.state.button3Callback()},disabled:!this.state.button3Enabled,children:this.state.button3Text})]})]})}}]),n}(a.Component),x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),i(t),r(t)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),x()}},[[21,1,2]]]);
//# sourceMappingURL=main.a40ab5be.chunk.js.map