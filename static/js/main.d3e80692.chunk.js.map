{"version":3,"sources":["components/Field.js","components/PanelHeader.js","components/Panel.js","App.js","reportWebVitals.js","index.js"],"names":["Field","props","cellSize","srawing","state","height","width","nCellsHigh","nCellsWide","cells","this","divElement","clientHeight","clientWidth","Math","ceil","slice","j","i","push","x","y","setState","event","coords","toGridCoords","pageX","pageY","console","log","drawing","coord","floor","length","classes","r","rx","ry","class","ref","style","overflow","position","xmlns","onMouseMove","handleMouseMove","onMouseDown","handleMouseDown","onMouseUp","handleMouseUp","renderCells","Component","PanelHeader","onDrag","header","useState","mouseDown","setMouseDown","useEffect","window","addEventListener","e","movementX","movementY","removeEventListener","className","Panel","moveX","moveY","left","top","handleDrag","children","StateMachine","require","App","button1Text","button2Text","button3Text","button1Callback","button2Callback","button3Callback","stateMachine","init","transitions","name","from","to","methods","onState1","onState2","onState3","onState4","start","state2tran","state3tran","state4tran","state1tran","onClick","handelClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3e80692.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport '../style/Field.css';\r\n\r\nclass Field extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.cellSize = 30;\r\n        this.srawing = false;\r\n\r\n        this.state = {\r\n            height: 0,\r\n            width: 0,\r\n            nCellsHigh: 0,\r\n            nCellsWide: 0,\r\n            cells: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const cellSize = this.cellSize;\r\n        const height = this.divElement.clientHeight;\r\n        const width = this.divElement.clientWidth;\r\n        const nCellsHigh = Math.ceil(height / cellSize);\r\n        const nCellsWide = Math.ceil(width / cellSize);\r\n        const cells = this.state.cells.slice();\r\n\r\n        for(let j = 0; j < nCellsHigh; j++){\r\n            for(let i = 0; i < nCellsWide; i++){\r\n                cells.push({\r\n                    x: i,\r\n                    y: j,\r\n                    state: 0\r\n                })\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            height: height,\r\n            width: width,\r\n            nCellsHigh: nCellsHigh,\r\n            nCellsWide: nCellsWide,\r\n            cells: cells\r\n        })\r\n    }\r\n\r\n    handleMouseDown(event){\r\n        const coords = this.toGridCoords(event.pageX, event.pageY);\r\n        console.log(\"mouseDown (\" + coords[0] + \", \" + coords[1] + \")\");\r\n        this.drawing=true;\r\n    }\r\n\r\n    handleMouseUp(event){\r\n        const coords = this.toGridCoords(event.pageX, event.pageY);\r\n        console.log(\"MouseUp\");\r\n        this.drawing=false;\r\n    }\r\n\r\n    handleMouseMove(event){\r\n        if(!this.drawing){\r\n            return;\r\n        }\r\n        const coord = this.toGridCoords(event.pageX, event.pageY);\r\n        //console.lg(\"MouseMove (\" + coords[0] + \", \" + coords[1] + \")\");\r\n        const cells = this.state.cells.slice();\r\n\r\n        cells[(coord[1] * this.state.nCellsWide) + coord[0]].state = 1;\r\n\r\n        this.setState({\r\n            height: this.state.height,\r\n            width: this.state.width,\r\n            nCellsHigh: this.state.nCellsHigh,\r\n            nCellsWide: this.state.nCellsWide,\r\n            cells: cells\r\n        })\r\n    }\r\n\r\n    toGridCoords(x, y){\r\n        return [Math.floor(x/this.cellSize), Math.floor(y/this.cellSize)];\r\n    }\r\n\r\n    renderCells(){\r\n        var cells = []\r\n        for(let i = 0; i < this.state.cells.length; i++){\r\n            let classes = 'cell'\r\n            switch(this.state.cells[i].state){\r\n                case 0:\r\n                    classes += ' air';\r\n                    break;\r\n                case 1:\r\n                    classes += ' wall';\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            cells.push(\r\n                <rect \r\n                    x={this.state.cells[i].x*this.cellSize}\r\n                    y={this.state.cells[i].y*this.cellSize}\r\n                    width=\"30\" height=\"30\" \r\n                    r=\"0\" rx=\"0\" ry=\"0\" \r\n                    class={classes}\r\n                />\r\n            )\r\n        }\r\n        return cells;\r\n    }\r\n    \r\n    render(){\r\n        return (\r\n            <div \r\n                class=\"field-div\" ref={(divElement) => this.divElement = divElement}\r\n            >\r\n                <svg \r\n                    height={this.state.height} \r\n                    width={this.state.width} \r\n                    style={{overflow:'hidden', position:\"relative\"}}\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    onMouseMove={(event) => this.handleMouseMove(event)}\r\n                    onMouseDown={(event) => this.handleMouseDown(event)}\r\n                    onMouseUp={(event) => this.handleMouseUp(event)}\r\n                >\r\n                    {this.renderCells()}\r\n                </svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Field","import React, { useState, useEffect } from 'react';\r\n\r\nconst PanelHeader = ({ onDrag, header }) => {\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleMouseUp = () => setMouseDown(false);\r\n\r\n    window.addEventListener('mouseup', handleMouseUp);\r\n\r\n    return () => {\r\n      window.addEventListener('mouseup', handleMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => onDrag(e.movementX, e.movementY);\r\n\r\n    if (mouseDown) {\r\n      window.addEventListener('mousemove', handleMouseMove);\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n    };\r\n  }, [mouseDown, onDrag]);\r\n\r\n  const handleMouseDown = () => setMouseDown(true);\r\n\r\n  return (\r\n    <div className=\"panel__header\" onMouseDown={handleMouseDown}>\r\n      {header}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PanelHeader;","import React, {Component} from 'react';\r\nimport PanelHeader from './PanelHeader';\r\n\r\nclass Panel extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            x: 10,\r\n            y: 10\r\n        }\r\n    }\r\n\r\n    handleDrag(moveX, moveY){\r\n        const x = this.state.x + moveX;\r\n        const y = this.state.y + moveY;\r\n\r\n        this.setState({\r\n            x: x,\r\n            y: y\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        console.log(\"Update\");\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"panel\" style={{left: this.state.x, top: this.state.y}}>\r\n            <div className=\"panel__container\">\r\n              <PanelHeader \r\n                onDrag={(moveX, moveY) => this.handleDrag(moveX, moveY)} \r\n                header={this.props.header}\r\n              />\r\n              <div className=\"panel__content\">\r\n                  {this.props.children}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Panel;","import { Component } from 'react';\nimport Field from './components/Field'\nimport Panel from './components/Panel'\nimport './App.css';\nvar StateMachine = require('javascript-state-machine')\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      button1Text: \"State 1\",\n      button2Text: \"State 2\",\n      button3Text: \"State 3\",\n      button1Callback: null,\n      button2Callback: null,\n      button3Callback: null,\n    }\n\n    this.stateMachine = new StateMachine({\n      init: 'none',\n      transitions: [\n        { name: 'start',       from: 'none', to:'state1'},\n        { name: 'state1tran', from: ['state2', 'state3', 'state4'],    to:'state1'},\n        { name: 'state2tran', from: ['state1', 'state3', 'state4'],    to:'state2'},\n        { name: 'state3tran', from: ['state1', 'state2', 'state4'],    to:'state3'},\n        { name: 'state4tran', from: ['state1', 'state2', 'state3'],    to:'state4'}\n      ],\n      methods: {\n        onState1: () => this.onState1(),\n        onState2: () => this.onState2(),\n        onState3: () => this.onState3(),\n        onState4: () => this.onState4()\n      }\n    })\n  }\n\n  componentDidMount(){\n    this.stateMachine.start();\n  }\n\n  onState1(){\n    console.log(\"State1 Trigger\")\n    const button1Text = \"State2\";\n    const button2Text = \"State3\";\n    const button3Text = \"State4\";\n\n    this.setState({\n      button1Text: button1Text,\n      button2Text: button2Text,\n      button3Text: button3Text,\n      button1Callback: ()=>{this.stateMachine.state2tran()},\n      button2Callback: ()=>{this.stateMachine.state3tran()},\n      button3Callback: ()=>{this.stateMachine.state4tran()}\n    })\n  }\n\n  onState2(){\n    const button1Text = \"State1\";\n    const button2Text = \"State3\";\n    const button3Text = \"State4\";\n\n    this.setState({\n      button1Text: button1Text,\n      button2Text: button2Text,\n      button3Text: button3Text,\n      button1Callback: ()=>{this.stateMachine.state1tran()},\n      button2Callback: ()=>{this.stateMachine.state3tran()},\n      button3Callback: ()=>{this.stateMachine.state4tran()}\n    })\n  }\n\n  onState3(){\n    const button1Text = \"State1\";\n    const button2Text = \"State2\";\n    const button3Text = \"State4\";\n\n    this.setState({\n      button1Text: button1Text,\n      button2Text: button2Text,\n      button3Text: button3Text,\n      button1Callback: ()=>{this.stateMachine.state1tran()},\n      button2Callback: ()=>{this.stateMachine.state2tran()},\n      button3Callback: ()=>{this.stateMachine.state4tran()}\n    })\n  }\n\n  onState4(){\n    const button1Text = \"State1\";\n    const button2Text = \"State2\";\n    const button3Text = \"State3\";\n\n    this.setState({\n      button1Text: button1Text,\n      button2Text: button2Text,\n      button3Text: button3Text,\n      button1Callback: ()=>{this.stateMachine.state1tran()},\n      button2Callback: ()=>{this.stateMachine.state2tran()},\n      button3Callback: ()=>{this.stateMachine.state3tran()}\n    })\n  }\n\n  handelClick(i){\n    switch(i){\n      case 1:\n        this.state.button1Callback();\n        break;\n      case 2:\n        this.state.button2Callback();\n        break;\n      case 3:\n        this.state.button3Callback();\n        break;\n      default:\n        console.log(\"ERROR\");\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"App\">\n          <Field />\n          <Panel header={this.stateMachine.state}>\n            <button \n              class=\"panel-button\"\n              onClick={() => this.handelClick(1)}\n            >\n              {this.state.button1Text}\n            </button>\n            <button \n              class=\"panel-button\"\n              onClick={() => this.handelClick(2)}\n            >\n              {this.state.button2Text}\n            </button>\n            <button \n              class=\"panel-button\"\n              onClick={() => this.handelClick(3)}\n            >\n              {this.state.button3Text}\n            </button>\n          </Panel>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}